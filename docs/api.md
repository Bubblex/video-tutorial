# 接口文档

## 更新说明

## 1. 通用接口

## 1.1 上传静态文件

- [ ] 未完成

**接口说明：** 上传静态文件到服务器指定目录，并返回访问路径

**接口地址：** /api/upload

**请求类型：** POST

**请求参数：**

| 名称   | 类型   | 必填   | 可选值  | 说明   |
| :--- | :--- | :--- | :--- | :--- |
| file | File | 是    | -    | 文件   |

**响应参数：**

| 名称      | 类型     | 成功      | 失败   | 说明   |
| :------ | :----- | :------ | :--- | :--- |
| code    | Number | 1: 上传成功 | -    | 状态码  |
| message | String | 上传成功    | 上传失败 | 返回信息 |
| data    | Object | 返回数据    | null | 返回数据 |

**返回数据说明：**

| 名称   | 类型     | 说明   |
| :--- | :----- | :--- |
| url  | String | 文件地址 |

## 2. 账户接口

### 2.1 登录

- [ ] 未完成

**接口说明：** 登录该网站

**接口地址：** /api/login

**请求类型：** POST

**请求参数：**

| 名称       | 类型     | 必填   | 可选值  | 说明           |
| :------- | :----- | :--- | :--- | :----------- |
| account  | String | 是    | -    | 账户名称         |
| password | String | 是    | -    | 密码，经过MD5加密处理 |

**响应参数：**

| 名称      | 类型     | 成功      | 失败                    | 说明   |
| :------ | :----- | :------ | :-------------------- | :--- |
| code    | Number | 1: 登录成功 | 200: 账户已禁用 201: 账户已删除 | 状态码  |
| message | String | 登录成功    | 登录失败                  | 返回信息 |
| data    | Object | 返回数据    | null                  | 返回数据 |

**返回数据说明：**

| 名称           | 类型     | 说明                           |
| :----------- | :----- | :--------------------------- |
| token        | String | 用户标识                         |
| user         | Object | 用户基本信息                       |
| — account    | String | 账号                           |
| — nickname   | String | 昵称                           |
| — avatar     | String | 头像图片地址                       |
| — summary    | String | 简介                           |
| — role_id    | Number | 账号角色 id 1: 普通用户 2: 讲师 3: 管理员 |
| — role_name  | String | 角色名称                         |
| — status     | Number | 账户状态 1: 正常 2: 禁用 3: 删除       |
| — created_at | String | 注册日期                         |

### 2.2 注册

- [ ] 未完成

**接口说明：** 注册该网站

**接口地址：** /api/register

**请求类型：** POST

**请求参数：**

| 名称               | 类型     | 必填   | 可选值  | 说明                                       |
| :--------------- | :----- | :--- | :--- | :--------------------------------------- |
| account          | String | 是    | -    | 账户名称                                     |
| nickname         | String | 是    | -    | 昵称，不能超过 16 位                             |
| password         | String | 是    | -    | 密码，不能超过 16 位，经过MD5加密处理                   |
| confirm_password | String | 是    | -    | 确认密码，不能超过 16 位，与字段 password 相等，经过 MD5 加密处理 |

**响应参数：**

| 名称      | 类型     | 成功      | 失败   | 说明   |
| :------ | :----- | :------ | :--- | :--- |
| code    | String | 1: 登录成功 | -    | 状态码  |
| message | String | 注册成功    | 注册失败 | 返回信息 |
| data    | Object | null    | null | 返回数据 |

### 2.3 重新设置密码

- [ ] 未完成

**接口说明：** 重新设置密码

**接口地址：** /api/register

**请求类型：** POST

**请求参数：**

| 名称               | 类型     | 必填   | 可选值  | 说明                                       |
| :--------------- | :----- | :--- | :--- | :--------------------------------------- |
| account          | String | 是    | -    | 账户名称                                     |
| nickname         | String | 是    | -    | 昵称，不能超过 16 位                             |
| password         | String | 是    | -    | 密码，不能超过 16 位，经过MD5加密处理                   |
| confirm_password | String | 是    | -    | 确认密码，不能超过 16 位，与字段 password 相等，经过 MD5 加密处理 |

**响应参数：**

| 名称      | 类型     | 成功      | 失败   | 说明   |
| :------ | :----- | :------ | :--- | :--- |
| code    | String | 1: 登录成功 | -    | 状态码  |
| message | String | 注册成功    | 注册失败 | 返回信息 |
| data    | Object | null    | null | 返回数据 |

## 3. 前台模块

### 3.1 用户

#### 3.1.1 用户完整信息

- [ ] 未完成

**接口说明：** 获取用户完整信息

**接口地址：** /api/user/info

**请求类型：** POST

**请求参数：**

| 名称    | 类型     | 必填   | 可选值  | 说明   |
| :---- | :----- | :--- | :--- | :--- |
| token | String |      | -    | 个人标识 |

**响应参数：**

| 名称      | 类型     | 成功      | 失败            | 说明   |
| :------ | :----- | :------ | :------------ | :--- |
| code    | Number | 1: 查询成功 | 100: token 失效 | 状态码  |
| message | String | 查询数据成功  | 查询用户失败        | 返回信息 |
| data    | Object | 返回数据    | null          | 返回数据 |

**返回数据说明：**

| 名称               | 类型     | 说明                                   |
| :--------------- | :----- | :----------------------------------- |
| **用户信息**         |        |                                      |
| account          | String | 账号                                   |
| nickname         | String | 昵称                                   |
| avatar           | String | 头像图片地址                               |
| summary          | String | 简介                                   |
| role_id          | Number | 账号角色 id 1: 普通用户 2: 讲师 3: 管理员         |
| role_name        | String | 账号角色名称                               |
| created_at       | String | 注册日期                                 |
| card_number      | String | 身份证号码                                |
| card_front_image | String | 证件照正面图片地址                            |
| card_back_image  | String | 证件照反面图片地址                            |
| **用户状态**         |        |                                      |
| status           | Number | 账号状态 1: 正常 2: 禁用 3: 删除               |
| authenticate     | Number | 讲师认证状态 1: 未认证 2: 认证中 3: 认证失败 4: 认证成功 |
| **用户数据**         |        |                                      |
| followers_num    | Number | 粉丝数                                  |
| articles_num     | Number | 文章数                                  |
| videos_num       | Number | 视频数                                  |
| stars_num        | Number | 关注数                                  |

#### 3.1.2 我的关注

- [ ] 未完成

**接口说明：** 以分页的形式加载我的关注

**接口地址：** /api/user/star

**请求类型：** POST

**请求参数：**

| 名称    | 类型     | 必填   | 可选值  | 说明   |
| :---- | :----- | :--- | :--- | :--- |
| token | String | 是    | -    | 用户标识 |

**响应参数：**

| 名称      | 类型     | 成功      | 失败            | 说明   |
| :------ | :----- | :------ | :------------ | :--- |
| code    | String | 1: 查询成功 | 100: token 失效 | 状态码  |
| message | String | 注册成功    | 注册失败          | 返回信息 |
| data    | Object | null    | null          | 返回数据 |

**返回数据说明：**

| 名称         | 类型       | 说明        |
| :--------- | :------- | :-------- |
| pagination | Object   | 分页信息      |
| — total    | Number   | 总条数       |
| — current  | Number   | 当前页数      |
| — pageSize | Number   | 每页条数      |
| list       | Object[] | 我关注的人列表   |
| — id       | String   | 关注的人的id   |
| — nickname | String   | 关注的人的昵称   |
| — avatar   | String   | 关注的人的头像地址 |
| — summary  | String   | 关注的人的简介   |

#### 3.1.3 我收藏的文章

- [ ] 未完成

**接口说明：** 以分页的形式加载我收藏的文章

**接口地址：** /api/user/article

**请求类型：** POST

**请求参数：**

| 名称    | 类型     | 必填   | 可选值  | 说明   |
| :---- | :----- | :--- | :--- | :--- |
| token | String | 是    | -    | 用户标识 |

**响应参数：**

| 名称      | 类型     | 成功      | 失败            | 说明   |
| :------ | :----- | :------ | :------------ | :--- |
| code    | String | 1: 查询成功 | 100: token 失效 | 状态码  |
| message | String | 注册成功    | 注册失败          | 返回信息 |
| data    | Object | null    | null          | 返回数据 |

**返回数据说明：**

| 名称          | 类型       | 说明       |
| :---------- | :------- | :------- |
| pagination  | Object   | 分页信息     |
| — total     | Number   | 总条数      |
| — current   | Number   | 当前页数     |
| — pageSize  | Number   | 每页条数     |
| list        | Object[] | 我关注的人列表  |
| — id        | Number   | 文章 id    |
| — title     | String   | 文章标题     |
| — cover     | String   | 文章封面图片地址 |
| — summary   | String   | 文章简介     |
| — author_id | Number   | 文章作者 id  |
| — author    | String   | 文章作者名称   |
| — read_num  | Number   | 阅读量      |
| — type_id   | Number   | 文章分类 id  |
| — type      | String   | 文章分类名称   |

#### 3.1.4 我收藏的视频

#### 3.1.5 申请成为讲师

#### 3.1.6 关注用户

#### 3.1.7 取消关注用户

#### 3.1.8 我的文章

#### 3.1.9 我的视频

#### 3.1.10 我的粉丝

- [ ] 未完成

**接口说明：** 以分页的形式加载我的粉丝

**接口地址：** /api/user/follower

**请求类型：** POST

**请求参数：**

| 名称    | 类型     | 必填   | 可选值  | 说明   |
| :---- | :----- | :--- | :--- | :--- |
| token | String | 是    | -    | 用户标识 |

**响应参数：**

| 名称      | 类型     | 成功      | 失败            | 说明   |
| :------ | :----- | :------ | :------------ | :--- |
| code    | String | 1: 查询成功 | 100: token 失效 | 状态码  |
| message | String | 注册成功    | 注册失败          | 返回信息 |
| data    | Object | null    | null          | 返回数据 |

**返回数据说明：**

| 名称         | 类型       | 说明      |
| :--------- | :------- | :------ |
| pagination | Object   | 分页信息    |
| — total    | Number   | 总条数     |
| — current  | Number   | 当前页数    |
| — pageSize | Number   | 每页条数    |
| list       | Object[] | 我关注的人列表 |
| — id       | String   | 粉丝的id   |
| — nickname | String   | 粉丝的昵称   |
| — avatar   | String   | 粉丝的头像地址 |
| — summary  | String   | 粉丝的简介   |

### 3.2 文章

#### 3.2.1 文章分类

#### 3.2.2 文章列表

**接口说明：** 以分页的形式加载文章列表

**接口地址：** /api/article

**请求类型：** POST

**请求参数：**

| 名称    | 类型     | 必填   | 可选值  | 说明   |
| :---- | :----- | :--- | :--- | :--- |
| token | String | 是    | -    | 用户标识 |

**响应参数：**

| 名称      | 类型     | 成功      | 失败            | 说明   |
| :------ | :----- | :------ | :------------ | :--- |
| code    | String | 1: 查询成功 | 100: token 失效 | 状态码  |
| message | String | 注册成功    | 注册失败          | 返回信息 |
| data    | Object | null    | null          | 返回数据 |

**返回数据说明：**

| 名称          | 类型       | 说明       |
| :---------- | :------- | :------- |
| pagination  | Object   | 分页信息     |
| — total     | Number   | 总条数      |
| — current   | Number   | 当前页数     |
| — pageSize  | Number   | 每页条数     |
| list        | Object[] | 我关注的人列表  |
| — id        | Number   | 文章 id    |
| — title     | String   | 文章标题     |
| — cover     | String   | 文章封面图片地址 |
| — summary   | String   | 文章简介     |
| — author_id | Number   | 文章作者 id  |
| — author    | String   | 文章作者名称   |
| — read_num  | Number   | 阅读量      |
| — type_id   | Number   | 文章分类 id  |
| — type      | String   | 文章分类名称   |

#### 3.2.3 文章详情

#### 3.2.4 收藏文章

#### 3.2.5 取消收藏文章

#### 3.2.6 发布文章

### 3.3 视频

#### 3.3.1 视频列表

#### 3.3.2 视频详情

#### 3.3.3 收藏视频

#### 3.3.4 取消收藏视频

#### 3.3.5 发布视频

### 3.4 消息

#### 3.4.1 消息列表

#### 3.4.2 消息详情

### 3.5 评论

#### 3.5.1 视频评论列表

#### 3.5.2 评论视频

#### 3.5.3 文章评论列表

#### 3.5.4 评论文章

#### 3.5.5 举报评论

## 4. 后台模块

