# 接口文档

## 更新说明

## 1. 通用接口

### 1.1 上传静态文件

**接口状态：** 未完成

**接口说明：** 登录该网站

**接口地址：** /api/login

**请求类型：** POST

**请求参数：**

| 名称   | 类型   | 必填   | 可选值  | 说明      |
| :--- | :--- | :--- | :--- | :------ |
| file | File | 是    | -    | 所要上传的文件 |

**响应参数：**

| 名称      | 类型     | 成功      | 失败      | 说明   |
| :------ | :----- | :------ | :------ | :--- |
| code    | Number | 1       | 0       | 状态码  |
| message | String | 1: 上传生工 | 0: 上传失败 | 返回信息 |
| data    | Object | 返回数据    | null    | 返回数据 |

**返回数据说明：**

| 名称        | 类型     | 说明     |
| :-------- | :----- | :----- |
| file_path | String | 该文件的路径 |

## 2. 账户接口

### 2.1 登录

**接口状态：** 待完成

**接口说明：** 登录该网站

**接口地址：** /api/login

**请求类型：** POST

**请求参数：**

| 名称       | 类型     | 必填   | 可选值  | 说明           |
| :------- | :----- | :--- | :--- | :----------- |
| account  | String | 是    | -    | 账户名称         |
| password | String | 是    | -    | 密码，经过MD5加密处理 |

**响应参数：**

| 名称      | 类型     | 成功      | 失败                                       | 说明   |
| :------ | :----- | :------ | :--------------------------------------- | :--- |
| code    | Number | 1       | 0, 200, 201, 202, 203, 204               | 状态码  |
| message | String | 1: 登录成功 | 0: 登录失败 200: 账号或密码错误 201: 账户已禁用 202: 账户已删除 203: 用户不存在 204: a | 返回信息 |
| data    | Object | 返回数据    | null                                     | 返回数据 |

**返回数据说明：**

| 名称           | 类型     | 说明                           |
| :----------- | :----- | :--------------------------- |
| token        | String | 用户标识                         |
| user         | Object | 用户基本信息                       |
| — id         | Number | 用户 id                        |
| — account    | String | 账号                           |
| — nickname   | String | 昵称                           |
| — avatar     | String | 头像图片地址                       |
| — summary    | String | 简介                           |
| — role_id    | Number | 账号角色 id 1: 普通用户 2: 讲师 3: 管理员 |
| — role_name  | String | 角色名称                         |
| — status     | Number | 账户状态 1: 正常 2: 禁用 3: 删除       |
| — created_at | String | 注册日期                         |

### 2.2 注册

**接口状态：** 待测试

**接口说明：** 注册该网站

**接口地址：** /api/register

**请求类型：** POST

**请求参数：**

| 名称               | 类型     | 必填   | 可选值  | 说明                                       |
| :--------------- | :----- | :--- | :--- | :--------------------------------------- |
| account          | String | 是    | -    | 账户名称                                     |
| nickname         | String | 是    | -    | 昵称，不能超过 16 位                             |
| password         | String | 是    | -    | 密码，不能超过 16 位，经过MD5加密处理                   |
| confirm_password | String | 是    | -    | 确认密码，不能超过 16 位，与字段 password 相等，经过 MD5 加密处理 |

**响应参数：**

| 名称      | 类型     | 成功      | 失败                                | 说明   |
| :------ | :----- | :------ | :-------------------------------- | :--- |
| code    | Number | 1       | 0, 200, 201                       | 状态码  |
| message | String | 1: 注册成功 | 0: 注册失败 200: 该用户名已注册 201: 两次密码不一致 | 返回信息 |
| data    | Object | null    | null                              | 返回数据 |

### 2.3 重新设置密码

**接口状态：** 待测试

**接口说明：** 重新设置密码

**接口地址：** /api/reset

**请求类型：** POST

**请求参数：**

| 名称               | 类型     | 必填   | 可选值  | 说明                                       |
| :--------------- | :----- | :--- | :--- | :--------------------------------------- |
| token            | String | 是    | -    | 用户标识                                     |
| password         | String | 是    | -    | 原密码，不能超过 16 位，经过MD5加密处理                  |
| new_password     | String | 是    | -    | 新密码，不能超过 16 位，经过MD5加密处理                  |
| confirm_password | String | 是    | -    | 确认密码，不能超过 16 位，与字段 new_password 相等，经过 MD5 加密处理 |

**响应参数：**

| 名称      | 类型     | 成功        | 失败                               | 说明   |
| :------ | :----- | :-------- | :------------------------------- | :--- |
| code    | Number | 1         | 0, 100, 200, 201                 | 状态码  |
| message | String | 1: 密码修改成功 | 0: 修改失败 200: 两次密码不一致 201: 原密码不正确 | 返回信息 |
| data    | Object | null      | null                             | 返回数据 |

## 3. 前台模块

### 3.1 用户

#### 3.1.1 用户完整信息

**接口状态：** 未完成

**接口说明：** 获取用户完整信息

**接口地址：** /api/user-info

**请求类型：** POST

**请求参数：**

| 名称    | 类型     | 必填   | 可选值  | 说明                                   |
| :---- | :----- | :--- | :--- | :----------------------------------- |
| token | String | 否    | -    | 个人标识，如果该参数为空并有效，则返回用户公开数据，否则返回用户完整信息 |
| id    | Number | 是    | -    | 用户 id                                |

**响应参数：**

| 名称      | 类型     | 成功        | 失败                 | 说明   |
| :------ | :----- | :-------- | :----------------- | :--- |
| code    | Number | 1         | 0, 200             | 状态码  |
| message | String | 1: 查询数据成功 | 0: 查询失败 200: 没有该用户 | 返回信息 |
| data    | Object | 返回数据      | null               | 返回数据 |

**返回数据说明：**

| 名称               | 类型     | 说明                                   |
| :--------------- | :----- | :----------------------------------- |
| **用户信息**         |        |                                      |
| account          | String | 账号                                   |
| nickname         | String | 昵称                                   |
| avatar           | String | 头像图片地址                               |
| summary          | String | 简介                                   |
| role_id          | Number | 账号角色 id 1: 普通用户 2: 讲师 3: 管理员         |
| role_name        | String | 账号角色名称                               |
| created_at       | String | 注册日期                                 |
| card_number      | String | 身份证号码                                |
| card_front_image | String | 证件照正面图片地址                            |
| card_back_image  | String | 证件照反面图片地址                            |
| **用户状态**         |        |                                      |
| status           | Number | 账号状态 1: 正常 2: 禁用 3: 删除               |
| authenticate     | Number | 讲师认证状态 1: 未认证 2: 认证中 3: 认证失败 4: 认证成功 |
| **用户数据**         |        |                                      |
| followers_num    | Number | 粉丝数                                  |
| articles_num     | Number | 文章数                                  |
| videos_num       | Number | 视频数                                  |
| stars_num        | Number | 关注数                                  |

#### 3.1.2 申请成为讲师

**接口状态：** 未完成

**接口说明：** 申请成为平台的讲师

**接口地址：** /api/follow

**请求类型：** POST

**请求参数：**

| 名称               | 类型     | 必填   | 可选值  | 说明              |
| :--------------- | :----- | :--- | :--- | :-------------- |
| token            | String | 是    | -    | 用户标识            |
| card_number      | String | 是    | -    | 证件号码            |
| card_front_image | String | 是    | -    | 证件照正面，接口1.1返回数据 |
| card_back_image  | String | 是    | -    | 证件照反面，接口1.1返回数据 |

**响应参数：**

| 名称      | 类型     | 成功      | 失败                    | 说明   |
| :------ | :----- | :------ | :-------------------- | :--- |
| code    | Number | 1       | 0, 100, 200           | 状态码  |
| message | String | 1: 申请成功 | 0: 申请失败 100: token 失效 | 返回信息 |
| data    | Object | null    | null                  | 返回数据 |

### 3.2 关注

#### 3.2.1 关注列表

**接口状态：** 未完成

**接口说明：** 以分页的形式查询某个用户的关注列表

**接口地址：** /api/stars

**请求类型：** POST

**请求参数：**

| 名称       | 类型     | 必填   | 可选值  | 说明          |
| :------- | :----- | :--- | :--- | :---------- |
| id       | Number | 是    | -    | 用户 id       |
| current  | Number | 否    | -    | 查询页数，默认为 1  |
| pageSize | Number | 否    | -    | 每页条数，默认为 10 |

**响应参数：**

| 名称      | 类型     | 成功      | 失败                 | 说明   |
| :------ | :----- | :------ | :----------------- | :--- |
| code    | String | 1       | 0, 200             | 状态码  |
| message | String | 1: 查询成功 | 0: 查询失败 200: 没有该用户 | 返回信息 |
| data    | Object | 返回数据    | null               | 返回数据 |

**返回数据说明：**

| 名称         | 类型       | 说明        |
| :--------- | :------- | :-------- |
| pagination | Object   | 分页信息      |
| — total    | Number   | 总条数       |
| — current  | Number   | 当前页数      |
| — pageSize | Number   | 每页条数      |
| list       | Object[] | 关注列表      |
| — id       | String   | 关注的人的id   |
| — nickname | String   | 关注的人的昵称   |
| — avatar   | String   | 关注的人的头像地址 |
| — summary  | String   | 关注的人的简介   |

#### 3.2.2 粉丝列表

**接口状态：** 未完成

**接口说明：** 以分页的形式查询某个用户的粉丝列表

**接口地址：** /api/followers

**请求类型：** POST

**请求参数：**

| 名称       | 类型     | 必填   | 可选值  | 说明          |
| :------- | :----- | :--- | :--- | :---------- |
| id       | Number | 是    | -    | 用户 id       |
| current  | Number | 否    | -    | 查询页数，默认为 1  |
| pageSize | Number | 否    | -    | 每页条数，默认为 10 |

**响应参数：**

| 名称      | 类型     | 成功      | 失败                 | 说明   |
| :------ | :----- | :------ | :----------------- | :--- |
| code    | Number | 1       | 0, 200             | 状态码  |
| message | String | 1: 查询成功 | 0: 查询失败 200: 没有该用户 | 返回信息 |
| data    | Object | 返回数据    | null               | 返回数据 |

**返回数据说明：**

| 名称         | 类型       | 说明      |
| :--------- | :------- | :------ |
| pagination | Object   | 分页信息    |
| — total    | Number   | 总条数     |
| — current  | Number   | 当前页数    |
| — pageSize | Number   | 每页条数    |
| list       | Object[] | 粉丝列表    |
| — id       | String   | 粉丝的id   |
| — nickname | String   | 粉丝的昵称   |
| — avatar   | String   | 粉丝的头像地址 |
| — summary  | String   | 粉丝的简介   |

#### 3.2.3 关注用户

**接口状态：** 未完成

**接口说明：** 关注某个用户

**接口地址：** /api/follow

**请求类型：** POST

**请求参数：**

| 名称    | 类型     | 必填   | 可选值  | 说明       |
| :---- | :----- | :--- | :--- | :------- |
| id    | Number | 是    | -    | 被关注用户 id |
| token | String | 是    | -    | 用户标识     |

**响应参数：**

| 名称      | 类型     | 成功      | 失败                               | 说明   |
| :------ | :----- | :------ | :------------------------------- | :--- |
| code    | Number | 1       | 0, 100, 200                      | 状态码  |
| message | String | 1: 关注成功 | 0: 查询失败 100: token 失效 200: 没有该用户 | 返回信息 |
| data    | Object | null    | null                             | 返回数据 |

#### 3.2.4 取消关注用户

**接口状态：** 未完成

**接口说明：** 取消关注某个用户

**接口地址：** /api/unfollow

**请求类型：** POST

**请求参数：**

| 名称    | 类型     | 必填   | 可选值  | 说明       |
| :---- | :----- | :--- | :--- | :------- |
| id    | Number | 是    | -    | 被关注用户 id |
| token | String | 是    | -    | 用户标识     |

**响应参数：**

| 名称      | 类型     | 成功      | 失败                               | 说明   |
| :------ | :----- | :------ | :------------------------------- | :--- |
| code    | Number | 1       | 0, 100, 200                      | 状态码  |
| message | String | 1: 关注成功 | 0: 查询失败 100: token 失效 200: 没有该用户 | 返回信息 |
| data    | Object | null    | null                             | 返回数据 |

### 3.2 文章

#### 3.2.1 文章分类

**接口状态：** 未完成

**接口说明：** 获取文章分类

**接口地址：** /api/article/type

**请求类型：** POST

**请求参数：** null

**响应参数：**

| 名称      | 类型     | 成功          | 失败          | 说明   |
| :------ | :----- | :---------- | :---------- | :--- |
| code    | Number | 1           | 0           | 状态码  |
| message | String | 1: 文章分类获取成功 | 0: 文章分类获取失败 | 返回信息 |
| data    | Object | 返回数据        | null        | 返回数据 |

**返回数据说明：**

| 名称                 | 类型       | 说明     |
| :----------------- | :------- | :----- |
| list               | Object[] | 文章分类   |
| — id               | Number   | 文章分类编号 |
| — type_name        | String   | 分类名称   |
| — type_explanation | String   | 分类说明   |

#### 3.2.2 文章列表

**接口状态：** 未完成

**接口说明：** 以分页的形式加载文章列表

**接口地址：** /api/article/list

**请求类型：** POST

**请求参数：**

| 名称       | 类型     | 必填   | 可选值  | 说明                           |
| :------- | :----- | :--- | :--- | :--------------------------- |
| id       | Number | 否    | -    | 用户 id，如果为空查询全部，不为空则查询用户收藏的文章 |
| type     | Number | 否    | -    | 文章分类，不填查询全部                  |
| current  | Number | 否    | -    | 查询页数，默认为 1                   |
| pageSize | Number | 否    | -    | 每页条数，默认为 10                  |

**响应参数：**

| 名称      | 类型     | 成功      | 失败         | 说明   |
| :------ | :----- | :------ | :--------- | :--- |
| code    | String | 1       | 200        | 状态码  |
| message | String | 1: 查询成功 | 200: 没有该用户 | 返回信息 |
| data    | Object | null    | null       | 返回数据 |

**返回数据说明：**

| 名称           | 类型       | 说明                       |
| :----------- | :------- | :----------------------- |
| pagination   | Object   | 分页信息                     |
| — total      | Number   | 总条数                      |
| — current    | Number   | 当前页数                     |
| — pageSize   | Number   | 每页条数                     |
| list         | Object[] | 我关注的人列表                  |
| — id         | Number   | 文章 id                    |
| — title      | String   | 文章标题                     |
| — cover      | String   | 文章封面图片地址                 |
| — summary    | String   | 文章简介                     |
| — author_id  | Number   | 文章作者 id                  |
| — author     | String   | 文章作者名称                   |
| — read_num   | Number   | 阅读量                      |
| — type_id    | Number   | 文章分类 id                  |
| — type       | String   | 文章分类名称                   |
| — status     | Number   | 文章状态 1: 正常 2: 已禁用 3: 已删除 |
| — updated_at | String   | 文章修改日期                   |
| — created_at | String   | 文章发布日期                   |

#### 3.2.3 文章详情

**接口状态：** 未完成

**接口说明：** 获取文章详情

**接口地址：** /api/article/detail

**请求类型：** POST

**请求参数：**

| 名称   | 类型     | 必填   | 可选值  | 说明    |
| :--- | :----- | :--- | :--- | :---- |
| id   | Number | 是    | -    | 文章 id |

**响应参数：**

| 名称      | 类型     | 成功      | 失败         | 说明   |
| :------ | :----- | :------ | :--------- | :--- |
| code    | String | 1: 查询成功 | 200: 没有该文章 | 状态码  |
| message | String | 查询成功    | 没有该文章      | 返回信息 |
| data    | Object | null    | null       | 返回数据 |

**返回数据说明：**

| 名称         | 类型     | 说明                       |
| :--------- | :----- | :----------------------- |
| id         | Number | 文章 id                    |
| title      | String | 文章标题                     |
| cover      | String | 文章封面图片地址                 |
| summary    | String | 文章简介                     |
| author_id  | Number | 文章作者 id                  |
| author     | String | 文章作者名称                   |
| content    | String | 文章详细内容                   |
| read_num   | Number | 阅读量                      |
| type_id    | Number | 文章分类 id                  |
| type       | String | 文章分类名称                   |
| status     | Number | 文章状态 1: 正常 2: 已禁用 3: 已删除 |
| updated_at | String | 文章修改日期                   |
| created_at | String | 文章发布日期                   |

#### 3.2.4 收藏文章

**接口状态：** 未完成

**接口说明：** 收藏文章

**接口地址：** /api/article/collect

**请求类型：** POST

**请求参数：**

| 名称    | 类型     | 必填   | 可选值  | 说明    |
| :---- | :----- | :--- | :--- | :---- |
| token | String | 是    | -    | 用户标识  |
| id    | Number | 是    | -    | 文章 id |

**响应参数：**

| 名称      | 类型     | 成功        | 失败                                     | 说明   |
| :------ | :----- | :-------- | :------------------------------------- | :--- |
| code    | Number | 1         | 0, 100, 200                            | 状态码  |
| message | String | 1: 文章收藏成功 | 0: 文章收藏失败 100: 登录状态过期，请重新登录 200: 文章不存在 | 返回信息 |
| data    | Object | null      | null                                   | 返回数据 |

#### 3.2.5 取消收藏文章

**接口状态：** 未完成

**接口说明：** 取消收藏文章

**接口地址：** /api/article/cancel

**请求类型：** POST

**请求参数：**

| 名称    | 类型     | 必填   | 可选值  | 说明    |
| :---- | :----- | :--- | :--- | :---- |
| token | String | 是    | -    | 用户标识  |
| id    | Number | 是    | -    | 文章 id |

**响应参数：**

| 名称      | 类型     | 成功          | 失败                                       | 说明   |
| :------ | :----- | :---------- | :--------------------------------------- | :--- |
| code    | Number | 1           | 0, 100, 200                              | 状态码  |
| message | String | 1: 文章取消收藏成功 | 0: 文章取消收藏失败 100: 登录状态过期，请重新登录 200: 文章不存在 | 返回信息 |
| data    | Object | null        | null                                     | 返回数据 |

#### 3.2.6 发布文章

**接口状态：** 未完成

**接口说明：** 发布一篇文章

**接口地址：** /api/article/release

**请求类型：** POST

**请求参数：**

| 名称      | 类型     | 必填   | 可选值  | 说明             |
| :------ | :----- | :--- | :--- | :------------- |
| token   | String | 是    | -    | 用户标识           |
| title   | String | 是    | -    | 文章标题           |
| cover   | String | 是    | -    | 文章封面图，接口1.1返回值 |
| summary | String | 是    | -    | 文章简介           |
| content | String | 是    | -    | 文章内容           |
| type_id | Number | 是    | -    | 文章分类 id        |

**响应参数：**

| 名称      | 类型     | 成功        | 失败                          | 说明   |
| :------ | :----- | :-------- | :-------------------------- | :--- |
| code    | Number | 1         | 0, 100, 200                 | 状态码  |
| message | String | 1: 文章发布成功 | 0: 文章发布失败 100: 登录状态过期，请重新登录 | 返回信息 |
| data    | Object | null      | null                        | 返回数据 |

### 3.3 视频

#### 3.3.1 视频列表

#### 3.3.2 视频详情

#### 3.3.3 收藏视频

#### 3.3.4 取消收藏视频

#### 3.3.5 发布视频

### 3.4 消息

#### 3.4.1 消息列表

#### 3.4.2 消息详情

### 3.5 评论

#### 3.5.1 视频评论列表

#### 3.5.2 评论视频

#### 3.5.3 文章评论列表

#### 3.5.4 评论文章

#### 3.5.5 举报评论

## 4. 后台模块

